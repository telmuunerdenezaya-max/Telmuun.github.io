<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<title>Hangman</title>
</head>
<body>



<div class="container">
    <div class="title"><h2>Hangman</h2></div>


<!-- Ò®Ð³ Ð¾Ñ€ÑƒÑƒÐ»Ð°Ñ… Ñ…ÑÑÑÐ³ -->

<input id="wordInput" type="password" placeholder="ÐÑƒÑƒÑ† Ò¯Ð³ÑÑ Ð±Ð¸Ñ‡">
<button id="setBtn">Set word</button>
<img id="hangmanImg" src="0.jpg" alt="Hangman Image">
<div id="maskedWord"></div>
<div id="letters"></div>
</div>


<script>
let word = "";
let mask = [];
let lettersDiv = document.getElementById("letters");
let i=0;
let wrongGuesses = 0;
let maxWrong = 5;


document.getElementById("setBtn").onclick = function() {
    word = document.getElementById("wordInput").value.toLowerCase();
    if(!word) return alert("Ò®Ð³ÑÑ Ð¾Ñ€ÑƒÑƒÐ»Ð½Ð° ÑƒÑƒ!");

    // ÐœÐ°ÑÐº Ò¯Ò¯ÑÐ³ÑÑ…
    mask = Array(word.length).fill("_");
    document.getElementById("maskedWord").textContent = mask.join(" ");

    // ðŸ”¥ Ð¨Ð˜ÐÐ­ Ð¢ÐžÐ“Ð›ÐžÐžÐœ Ð­Ð¥Ð›Ð­Ð¥Ð”Ð­Ð­ Ð—ÐÐÐ’ÐÐ› 0.JPG â†’ ÑÑ…Ð»ÑÐ»
    wrongGuesses = 0;
    i = 0;
    document.getElementById("hangmanImg").src = `0.jpg`;

    // Ò®ÑÑÐ³Ð½Ð¸Ð¹ Ñ‚Ð¾Ð²Ñ‡Ð»ÑƒÑƒÑ€ÑƒÑƒÐ´ Ò¯Ò¯ÑÐ³ÑÑ…
    lettersDiv.innerHTML = "";
    "abcdefghijklmnopqrstuvwxyz".split("").forEach(ch => {
        let btn = document.createElement("button");
        btn.textContent = ch;
        btn.onclick = () => guessLetter(ch, btn);
        lettersDiv.appendChild(btn);
    });
};




function guessLetter(letter, btn) {
    let correct = false;

    for(; i < word.length;) {
        if(word[i] === letter && mask[i] === "_") { 
            mask[i] = letter;
            i++;
            correct = true;
            break;
        } else {
            break;   
        }
    }

    document.getElementById("maskedWord").textContent = mask.join(" ");


    if(!correct) {
    wrongGuesses++;
    document.getElementById("hangmanImg").src = `${wrongGuesses}.jpg`;

if(wrongGuesses >= maxWrong) {
    // 5-Ñ€ Ð·ÑƒÑ€Ð°Ð³ Ð³Ð°Ñ€Ð³Ð°Ñ…
    document.getElementById("hangmanImg").src = `5.jpg`;

    // Ð‘Ð°Ð³Ð° Ñ…ÑƒÐ³Ð°Ñ†Ð°Ð°Ð½Ñ‹ Ñ‚ÑƒÑ€Ñˆ Ð·ÑƒÑ€Ð°Ð³ Ñ…Ð°Ñ€Ð°Ð³Ð´Ð°Ñ…Ð°Ð°Ñ€ setTimeout Ð°ÑˆÐ¸Ð³Ð»Ð°Ñ…
    setTimeout(() => {
        alert("Ð‘Ð¾Ð»Ð¾Ð¼Ð¶ Ð´ÑƒÑƒÑÐ»Ð°Ð°! Ò®Ð³: " + word);

        // Ð¨Ð¸Ð½Ñ Ñ‚Ð¾Ð³Ð»Ð¾Ð¾Ð¼ ÑÑ…Ð»ÑÑ…
        mask = Array(word.length).fill("_");
        i = 0;
        wrongGuesses = 0;
        document.getElementById("maskedWord").textContent = mask.join(" ");
        document.getElementById("hangmanImg").src = `0.jpg`;

        // Ð¢Ð¾Ð²Ñ‡Ð»ÑƒÑƒÑ€ÑƒÑƒÐ´Ñ‹Ð³ Ð¸Ð´ÑÐ²Ñ…Ð¶Ò¯Ò¯Ð»ÑÑ…
        lettersDiv.querySelectorAll("button").forEach(b => b.disabled = false);
        document.getElementById("wordInput").value = "";
    }, 50); // 50ms Ð´Ð°Ñ€Ð°Ð° alert Ð³Ð°Ñ€Ð½Ð°
}

}

    if(!mask.includes("_")) {
        alert("Ð¢Ð°Ð°Ð¶Ð¸Ð¸Ð½ Ð¢Ð°Ð°Ð¶Ð¸Ð¹Ð½ :)");
        lettersDiv.innerHTML = "";
        document.getElementById("wordInput").value = "";
    }
}


</script>

</body>
</html>





